(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.NoHate=b())})(this,function(){'use strict';function a(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}var b,c,d,e,f,g,h=function(a){return"<span class=\"word\">"+a+"</span>"},i=function(a,b,c){return void 0===c&&(c=""),"<main class='popup'><article class='content'><header class='header'><a class=\"report\" target=\"_blank\">"+a.buttonReport+"</a>"+("<h1>"+a.title+"</h1>")+("<p>"+a.text+"</p></header>")+("<div class='comment'>"+b+"</div><div class='controls'><button class='ok'>")+(""+"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"14\" viewBox=\"0 0 7.672 13.081\"><path d=\"M6.93.67L1.38 6.822l5.55 5.55\" fill=\"none\" stroke=\"#000\" stroke-width=\"2\"/></svg>")+("<span>"+a.buttonOk+"<span></button>")+("<button class='alt'>"+a.buttonContinue+"</button></div>")+("<p class='subtext'>"+a.subtext+"</p>")+("<p class='readmore'>"+a.readMore+"</p><footer class='footer'>")+("<a class=\"logo\" href=\"https://nohate.no/hatefulle-ytringer\" target=\"_blank\">"+"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"133\" height=\"48\" viewBox=\"0 0 132.739 47.12\" fill=\"#0025fb\"><path d=\"M0 27.568V.425h5.344l11.112 18.1V.425h5.1v27.143H16.1L5.16 9.898v17.67zM25.382 14.2a18.21 18.21 0 0 1 1.214-6.983 11.88 11.88 0 0 1 2.55-3.7 11.12 11.12 0 0 1 3.522-2.429C34.516.34 36.5-.032 38.497.004c3.576-.172 7.06 1.17 9.594 3.7 2.43 2.5 3.583 5.95 3.583 10.323S50.46 21.86 48.1 24.3a12.58 12.58 0 0 1-9.533 3.7c-4.008 0-7.226-1.214-9.594-3.7-2.368-2.43-3.582-5.77-3.582-10.08zm5.647-.243c0 3.1.73 5.4 2.125 6.983 1.356 1.556 3.337 2.424 5.4 2.368a7 7 0 0 0 5.4-2.368c1.4-1.58 2.125-3.947 2.125-7.1 0-3.1-.668-5.4-2.065-6.983a6.78 6.78 0 0 0-5.4-2.307 7.1 7.1 0 0 0-5.465 2.307c-1.452 1.696-2.12 4.003-2.12 7.1zm26.9 9.663h2.5V11.173h-2.5v-2.5h7.47v7.47h2.5v-2.5h4.98v2.5h2.5V26.1H70.4v-9.958h-2.5v2.5h-2.5v7.47h-7.47zm22.163-2.5h2.5v-2.5h7.47v-2.5h-7.47v-2.5h9.958v2.5h2.5v7.47h2.5v2.5h-4.98v-2.5h-2.5v2.5H82.6v-2.5h-2.5v-2.5zm4.98 0v2.5h4.98v-2.5zm22.77-12.497v4.98h4.98v2.5h-4.98v7.47h2.5v-2.5h2.5v2.5h-2.5v2.5h-4.98v-2.5h-2.5v-7.47h-2.5v-2.5h2.5v-2.5h2.5v-2.5zm9.897 7.53h2.5v-2.5h9.958v2.5h2.5v4.98h-9.958v2.5h7.47v2.5h-9.96v-2.5h-2.5v-7.47zm4.98 0v2.5h4.98v-2.5zM119.56 44.63h2.5v2.5h-2.5zM90.415 29.147h2.5v2.5h-2.5zm39.835 7.165h2.5v2.5h-2.5z\"/></svg>"+"</a>")+("<p class=\"telia\">"+a.telia+"</p></footer><div class='loader'>")+("<h2>"+a.reportingText+"<br />"+a.afterReportText+"</h2><div><span>&middot;</span><span>&middot;</span><span>&middot;</span></div></div></article></main>")+("<style>"+c+"<style>")},j=function(){return function(){this.u=void 0,this.field="#comment",this.language="no",this.verbose=!1}}(),k=new j,l=function(a){return k=a},m=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];k.verbose&&console.log.apply(console,["%c[NoHate]%c","color: red","color: inherit"].concat(a))},n=function(){return n=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},n.apply(this,arguments)},o="ga:user",p=function(a,b){function c(a,c){"pageview"!==a||c||(c={dl:location.href,dt:document.title});var d,e="https://www.google-analytics.com/collect?v=1",f=Object.assign({t:a},b,c,{z:Date.now()});for(d in f)f[d]&&(e+="&"+d+"="+encodeURIComponent(f[d]));new Image().src=e}return b=Object.assign({},b,{aip:1,tid:a,cid:localStorage[o]=localStorage[o]||Math.random()+"."+Math.random()}),{args:b,send:c}}("UA-140484551-1"),q=function(a,b){var c={ec:"NoHate",ea:a,el:b.toString()};return!!p&&void(m("Analytics>",c.ec,c.ea,c.el),p.send("event",c))},r={},s={},t={},u=function(){switch((k.language||"").toLowerCase().trim()){case"no":return"no";default:return console.warn("'no' is the only available language at the moment."),"no";}},v=function(){return"string"==typeof k.u?k.u:"https://cdn.jsdelivr.net/gh/no-hate/no-hate/languages/"},w=function(a){return a.reduce(function(a,b){return(a[b.toLowerCase().trim()]=1)&&a},{})},x=function(a){var b=[],c=[];return a.forEach(function(a){var d=null===a.match(/([^\wæøå])/gi);d?b.push(a):c.push(a)}),[w(b),w(c)]},y=function(a){return a.reduce(function(a,b){if("string"==typeof b)return a.push(b),a;if("object"==typeof b&&!Array.isArray(b)){var c=Object.keys(b);return c.forEach(function(c){b[c].forEach(function(b){a.push(c+" "+b)})}),a}},[])},A=function(a){return fetch(v()+a+".json").then(function(a){if(!a.ok)throw Error(a.statusText);return a.json()})},B=function(){var a=u();return m("Loading data for language","'"+a+"'"),new Promise(function(b,c){q("Load",a),A(a).then(function(a){var c;m("Data loaded");var d=[];k.custom&&Array.isArray(k.custom)&&Array.prototype.push.apply(d,y(k.custom)),a.words?Array.prototype.push.apply(d,y(a.words)):a.data&&Array.prototype.push.apply(d,y(JSON.parse(atob(a.data)))),d.push("NoHateVerify"),c=x(d),s=c[0],t=c[1],r=a.labels,b()})["catch"](function(a){c(a)})})},C=!1,D=function(a){if(C)throw"Already configured";if(C=!0,q("Initializing",!0),l(n({},k,a)),m("Initializing"),b=document.querySelector(k.field),!1==!!b)throw"Field not found";return B()},E=function(a){var b=new URLSearchParams;return Object.keys(a).forEach(function(c){b.append(c,a[c])}),m("Submitting report",b),q("Report",!0),fetch("https://script.google.com/macros/s/AKfycbxY_Cw1CQOQ3IhVv71ZvoRxws6zf_peSOr5blRwcoRerVax7g8/exec"+"?"+b.toString())},F=/([^\wæøå])/gi,G=function(a){var b=a;if(null!==b.match(F))return b.split(F);return b.length?[b]:[]},H=function(a){var b=document.createElement("div");b.innerHTML=a;var c=G(b.innerText),d=c.map(function(a){var b=a.match(/([A-ZÆØÅ])\1+/gi);if(b){var c=[],d=b.filter(function(a){return 2<=a.length});if(d.length){for(var e=0;e<d.length;e++)for(var f=d[e],g=new RegExp("(["+f.charAt(0)+"])\\1+","i"),h=a,k=0<e?c.length:1,l=0;l<k;l++){0<e&&(h=c[l]);var m=[h.replace(g,"$1"),h.replace(g,"$1$1")];c.push.apply(c,m)}return[a].concat(c.filter(function(a){var b=a.match(/([A-ZÆØÅ])\1+/gi);return!b||0===b.filter(function(a){return 2<a.length}).length}))}}return a});return d},I=function(a,b,c){var d=a.indexOf(b.toLowerCase(),c);if(-1===d)for(var e,f=c;f<a.length;f++)if(e=a[f],Array.isArray(e)){for(var g,h=!1,j=0;j<e.length;j++)if(g=e[j],g.toLowerCase()===b.toLowerCase()){h=!0,d=f;break}if(h)break}return d},J=function(a,b){var c=b.map(function(a){var b=document.createElement("div");return Array.isArray(a)?a:(b.innerHTML=a,b.innerText.toLowerCase())}),d=G(a.trim());if(0===d.length)return!1;for(var e=-1;e<c.length;){if(e=I(c,d[0],e+1),-1===e)return!1;for(var f=!0,g=1;g<d.length;g++){if(Array.isArray(c[e+g])){var h=I(c,d[g],e+g);if(0<=h)continue}if("string"!=typeof c[e+g]){f=!1;break}if(c[e+g]!==d[g].toLowerCase()){f=!1;break}}if(f)return[e,d.length]}return!1},K=function(a,b){if(void 0===b&&(b=!1),Array.isArray(a)&&0<a.length&&(a=a[0]),-1<a.indexOf("<span"))if(b){var c=document.createElement("div");c.innerHTML=a,a=c.innerText}else return a;return h(a)},L=function(a){var b=0;return Object.keys(t).forEach(function(c){var d=J(c,a);if(!1!==d){b+=1;for(var e=0;e<d[1];e++)a[d[0]+e]=K(a[d[0]+e],!0)}}),b},M=function(a){for(var b=0,c=Object.keys(s),d=0;d<a.length;d++){if(Array.isArray(a[d])){for(var e=0;e<a[d].length;e++){var f=a[d][e],g=f.toLowerCase(),h=c.indexOf(g);if(-1<h){b+=1,a[d]=K(a[d]);break}}continue}var k=a[d].toLowerCase();0<=c.indexOf(k)&&(b+=1,a[d]=K(a[d]))}return b},N=function(a,b){switch((typeof a).toLowerCase()){case"function":return N(a.call(null,b));case"number":return a.toString();case"string":return a;case"undefined":default:return!1;}},O={apply:function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=void 0,d=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var d;if(a.length)if(1<a.length&&1<a[0].length)for(var e=0;e<a[0].length;e++){d=(d?d:"")+a[0][e];var f=N(a[e+1],c);f&&(d+=f)}else d=a[0][0];return d};return a.length&&!Array.isArray(a[0])?(c=a[0],d):d.apply(void 0,a)}},P="#000",Q=9999,z=O.apply(c||(c=a(["\n  @import url(\"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600&subset=latin-ext\");\n"],["\n  @import url(\"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600&subset=latin-ext\");\n"]))),R=O.apply(d||(d=a(["\n  .popup {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    font-family: ",";\n    font-size: 14px;\n    color: ",";\n    transform: translateZ(0);\n  }\n\n  .popup,\n  .popup:before {\n    animation: fadeIn 0.2s ease;\n  }\n  @keyframes fadeIn {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  .popup .content {\n    animation: slideUp 0.5s ease;\n  }\n  @keyframes slideUp {\n    0% {\n      margin-top: 15vh;\n    }\n    100% {\n      margin-top: 0;\n    }\n  }\n\n  .popup *,\n  .popup *:before,\n  .popup *:after {\n    box-sizing: border-box;\n  }\n\n  .popup:before {\n    content: \"\";\n    background: ",";\n  }\n\n  .popup button {\n    -webkit-appearance: none;\n    border: none;\n    cursor: pointer;\n    padding: 15px 20px;\n    background: ",";\n    font-size: 16px;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-family: inherit;\n    transition: background-color 0.2s ease-out, color 0.2s ease-out;\n  }\n  .popup button path {\n    transition: stroke 0.2s ease-out;\n  }\n\n  .popup button span {\n    flex: 1;\n  }\n  .popup button:hover,\n  .popup button:active,\n  .popup button:focus {\n    background: ",";\n    color: white;\n  }\n  .popup button:hover path,\n  .popup button:active path,\n  .popup button:focus path {\n    stroke: white;\n  }\n\n  .popup a,\n  .popup a:visited {\n    cursor: pointer;\n    font-size: 16px;\n    color: ",";\n    text-decoration: underline;\n  }\n\n  .popup a:hover,\n  .popup a:visited:hover {\n    color: inherit;\n    text-decoration: none;\n  }\n\n  .loader,\n  .popup,\n  .popup:before {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: ",";\n  }\n\n  .content {\n    background: #fff;\n    position: relative;\n    padding: 50px 15px 15px;\n    margin: 0 15px;\n    flex: none;\n    max-height: 90vh;\n    overflow-y: auto;\n    z-index: ",";\n  }\n  .popup .report {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    color: #848484;\n  }\n  .popup .report:hover {\n    text-decoration: none;\n    color: #666;\n  }\n  .report.disabled,\n  .report.disabled:hover {\n    cursor: not-allowed;\n    text-decoration: line-through;\n    color: #ccc;\n  }\n"],["\n  .popup {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    font-family: ",";\n    font-size: 14px;\n    color: ",";\n    transform: translateZ(0);\n  }\n\n  .popup,\n  .popup:before {\n    animation: fadeIn 0.2s ease;\n  }\n  @keyframes fadeIn {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  .popup .content {\n    animation: slideUp 0.5s ease;\n  }\n  @keyframes slideUp {\n    0% {\n      margin-top: 15vh;\n    }\n    100% {\n      margin-top: 0;\n    }\n  }\n\n  .popup *,\n  .popup *:before,\n  .popup *:after {\n    box-sizing: border-box;\n  }\n\n  .popup:before {\n    content: \"\";\n    background: ",";\n  }\n\n  .popup button {\n    -webkit-appearance: none;\n    border: none;\n    cursor: pointer;\n    padding: 15px 20px;\n    background: ",";\n    font-size: 16px;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-family: inherit;\n    transition: background-color 0.2s ease-out, color 0.2s ease-out;\n  }\n  .popup button path {\n    transition: stroke 0.2s ease-out;\n  }\n\n  .popup button span {\n    flex: 1;\n  }\n  .popup button:hover,\n  .popup button:active,\n  .popup button:focus {\n    background: ",";\n    color: white;\n  }\n  .popup button:hover path,\n  .popup button:active path,\n  .popup button:focus path {\n    stroke: white;\n  }\n\n  .popup a,\n  .popup a:visited {\n    cursor: pointer;\n    font-size: 16px;\n    color: ",";\n    text-decoration: underline;\n  }\n\n  .popup a:hover,\n  .popup a:visited:hover {\n    color: inherit;\n    text-decoration: none;\n  }\n\n  .loader,\n  .popup,\n  .popup:before {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: ",";\n  }\n\n  .content {\n    background: #fff;\n    position: relative;\n    padding: 50px 15px 15px;\n    margin: 0 15px;\n    flex: none;\n    max-height: 90vh;\n    overflow-y: auto;\n    z-index: ",";\n  }\n  .popup .report {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    color: #848484;\n  }\n  .popup .report:hover {\n    text-decoration: none;\n    color: #666;\n  }\n  .report.disabled,\n  .report.disabled:hover {\n    cursor: not-allowed;\n    text-decoration: line-through;\n    color: #ccc;\n  }\n"])),"\"Source Sans Pro\", sans-serif",P,"rgba(0, 37, 251, 0.15)","#DEDEDE","#575757",P,Q,Q+1),S=O.apply(e||(e=a(["\n  .header {\n    display: flex;\n    flex-direction: column;\n  }\n  .header .report {\n    align-self: flex-end;\n    margin-bottom: 20px;\n  }\n  .header h1 {\n    margin: 0 0 20px;\n    font-size: 28px;\n    font-weight: bold;\n  }\n\n  .header p {\n    margin: 0 0 20px;\n    font-size: 18px;\n  }\n\n  .comment {\n    background: #fff;\n    border: solid 1px ",";\n    font-size: 16px;\n    color: ",";\n    padding: 20px;\n    line-height: 2;\n    max-height: 20vh;\n    overflow-y: auto;\n  }\n\n  .word {\n    position: relative;\n    z-index: 1;\n  }\n\n  .word:before {\n    content: \"\";\n    background: ",";\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: -1;\n  }\n\n  .subtext,\n  .readmore {\n    color: #000;\n    font-size: 14px;\n    letter-spacing: 0.3pt;\n    margin: 0 0 20px;\n  }\n  .readmore a {\n    font-size: inherit;\n  }\n\n  .controls,\n  .footer {\n    margin: 10px 0;\n  }\n  .controls > *:first-child {\n    margin: 0 0 20px 0;\n  }\n  .controls > button {\n    width: 100%;\n  }\n\n  .footer {\n    margin-top: 30px;\n    align-items: flex-end;\n    display: block;\n  }\n  .footer .telia {\n    display: block;\n    text-align: right;\n    margin: 0 0px -15px 0;\n    flex: 1;\n    color: #848484;\n  }\n  .logo {\n    z-index: 3;\n  }\n"],["\n  .header {\n    display: flex;\n    flex-direction: column;\n  }\n  .header .report {\n    align-self: flex-end;\n    margin-bottom: 20px;\n  }\n  .header h1 {\n    margin: 0 0 20px;\n    font-size: 28px;\n    font-weight: bold;\n  }\n\n  .header p {\n    margin: 0 0 20px;\n    font-size: 18px;\n  }\n\n  .comment {\n    background: #fff;\n    border: solid 1px ",";\n    font-size: 16px;\n    color: ",";\n    padding: 20px;\n    line-height: 2;\n    max-height: 20vh;\n    overflow-y: auto;\n  }\n\n  .word {\n    position: relative;\n    z-index: 1;\n  }\n\n  .word:before {\n    content: \"\";\n    background: ",";\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: -1;\n  }\n\n  .subtext,\n  .readmore {\n    color: #000;\n    font-size: 14px;\n    letter-spacing: 0.3pt;\n    margin: 0 0 20px;\n  }\n  .readmore a {\n    font-size: inherit;\n  }\n\n  .controls,\n  .footer {\n    margin: 10px 0;\n  }\n  .controls > *:first-child {\n    margin: 0 0 20px 0;\n  }\n  .controls > button {\n    width: 100%;\n  }\n\n  .footer {\n    margin-top: 30px;\n    align-items: flex-end;\n    display: block;\n  }\n  .footer .telia {\n    display: block;\n    text-align: right;\n    margin: 0 0px -15px 0;\n    flex: 1;\n    color: #848484;\n  }\n  .logo {\n    z-index: 3;\n  }\n"])),P,"#393939","#FFEB00"),T=O.apply(f||(f=a(["\n  .content:after {\n    content: \"\";\n    visibility: hidden;\n    opacity: 0;\n    transition: visibility 0s 0.1s, opacity 0.1s linear;\n\n    background: rgba(255, 255, 255, 0.9);\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    z-index: 1;\n  }\n\n  .content.loading .loader {\n    visibility: visible;\n    opacity: 1;\n  }\n  .content.loading .loader {\n  }\n\n  .content.loading:after {\n    visibility: visible;\n    opacity: 1;\n    transition: opacity 0.1s linear;\n  }\n\n  .loader {\n    display: flex;\n    visibility: hidden;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    transition: opacity 0.1s linear;\n    opacity: 0;\n    z-index: 2;\n  }\n\n  .loader > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: -3rem;\n  }\n\n  .loader span {\n    font-size: 80px;\n    animation: blink 1.4s infinite both;\n  }\n\n  .loader span:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n\n  .loader span:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n  .loader h2 {\n    font-weight: normal;\n    text-align: center;\n    line-height: 1.5;\n  }\n\n  @keyframes blink {\n    0% {\n      opacity: 0.2;\n    }\n\n    20% {\n      opacity: 1;\n    }\n\n    100% {\n      opacity: 0.2;\n    }\n  }\n"],["\n  .content:after {\n    content: \"\";\n    visibility: hidden;\n    opacity: 0;\n    transition: visibility 0s 0.1s, opacity 0.1s linear;\n\n    background: rgba(255, 255, 255, 0.9);\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    z-index: 1;\n  }\n\n  .content.loading .loader {\n    visibility: visible;\n    opacity: 1;\n  }\n  .content.loading .loader {\n  }\n\n  .content.loading:after {\n    visibility: visible;\n    opacity: 1;\n    transition: opacity 0.1s linear;\n  }\n\n  .loader {\n    display: flex;\n    visibility: hidden;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    transition: opacity 0.1s linear;\n    opacity: 0;\n    z-index: 2;\n  }\n\n  .loader > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: -3rem;\n  }\n\n  .loader span {\n    font-size: 80px;\n    animation: blink 1.4s infinite both;\n  }\n\n  .loader span:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n\n  .loader span:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n  .loader h2 {\n    font-weight: normal;\n    text-align: center;\n    line-height: 1.5;\n  }\n\n  @keyframes blink {\n    0% {\n      opacity: 0.2;\n    }\n\n    20% {\n      opacity: 1;\n    }\n\n    100% {\n      opacity: 0.2;\n    }\n  }\n"]))),U=O.apply(g||(g=a(["\n  @media (min-width: 680px) {\n    .popup,\n    .popup button,\n    .subtext,\n    .readmore {\n      font-size: 16px;\n    }\n    .content {\n      max-width: 650px;\n      padding: 80px 80px 40px;\n    }\n    .comment {\n      font-size: 18px;\n      min-height: 130px;\n    }\n    .loader span {\n      font-size: 100px;\n    }\n    .controls {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: stretch;\n      margin: 15px 0 20px;\n    }\n    .controls > *:first-child {\n      margin: 0 20px 0 0;\n    }\n    .controls > button {\n      flex: 1;\n    }\n    .header h1 {\n      font-size: 36px;\n    }\n    .header p {\n      font-size: 18px;\n    }\n    .popup .report {\n      top: 35px;\n      right: 40px;\n    }\n    .footer {\n      display: flex;\n    }\n    .footer .telia {\n      margin-right: -40px;\n    }\n  }\n"],["\n  @media (min-width: 680px) {\n    .popup,\n    .popup button,\n    .subtext,\n    .readmore {\n      font-size: 16px;\n    }\n    .content {\n      max-width: 650px;\n      padding: 80px 80px 40px;\n    }\n    .comment {\n      font-size: 18px;\n      min-height: 130px;\n    }\n    .loader span {\n      font-size: 100px;\n    }\n    .controls {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: stretch;\n      margin: 15px 0 20px;\n    }\n    .controls > *:first-child {\n      margin: 0 20px 0 0;\n    }\n    .controls > button {\n      flex: 1;\n    }\n    .header h1 {\n      font-size: 36px;\n    }\n    .header p {\n      font-size: 18px;\n    }\n    .popup .report {\n      top: 35px;\n      right: 40px;\n    }\n    .footer {\n      display: flex;\n    }\n    .footer .telia {\n      margin-right: -40px;\n    }\n  }\n"]))),V=Object.freeze({imports:z,popup:R,header:S,loader:T,mediaquery_desktop:U}),W=function(a){return!a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))};(function(){window.fetch||document.write("<script src=\"https://unpkg.com/whatwg-fetch\"></script>"),window.Promise||document.write("<script src=\"https://unpkg.com/es6-promise\"></script>"),document.body.attachShadow||document.write("<script src=\"https://unpkg.com/@webcomponents/shadydom\"></script>"),Array.isArray||Object.defineProperty(Array,"isArray",{enumerable:!1,configurable:!1,writable:!1,value:function(){return"[object Array]"===Object.prototype.toString.call(arguments)}}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){return Object.keys(b).forEach(function(c){a[c]=b[c]}),a},{})}})})();var X,Y=!1,Z=Object.keys(V).reduce(function(a,b){return"__esModule"===b?a:a+V[b]},""),$=function(a,b,c){var d,e=document.querySelector("#nohate-result");e||(e=document.createElement("div"),e.id="nohate-result",document.body.appendChild(e),d=e.attachShadow({mode:"closed"})),d.innerHTML=i(r,b,Z);var f=function(b,c,d){void 0===d&&(d=!0),b&&(c.preventDefault(),e.remove(),a.focus(),a.select(),d&&q("Cancel",!0))};d.querySelector(".popup").addEventListener("click",function(a){return f(a.currentTarget===a.target,a)});var g=d.querySelector(".ok");g.addEventListener("click",function(a){return f(a.currentTarget===a.target||a.currentTarget.contains(a.target),a)}),g.focus();var h=function(b){b.preventDefault(),m("Resubmitting form"),q("Submit",!0),f(!0,b,!1),a.form&&(a.form.onsubmit=X||null,!1===Y?a.form.dispatchEvent(new Event("submit")):"function"==typeof Y&&Y())};d.querySelectorAll(".alt").forEach(function(a){return a.addEventListener("click",h)});var j=d.querySelector(".report");j.addEventListener("click",function(a){a.preventDefault(),j.classList.add("disabled");var b=j.cloneNode(!0);j.parentNode.replaceChild(b,j);var e=d.querySelector(".content");e.classList.add("loading");var f=Date.now();E({website:location.host,language:k.language,comment:c,custom:k.custom?JSON.stringify(k.custom):""}).then(function(){setTimeout(function(){e.classList.remove("loading")},Math.max(1,3e3-(Date.now()-f)))})})},_=function(a){var c=b.value+"",d=H(c),e=M(d),f=L(d),g=e+f;return(m("Validating"),q("Valid",0===g),0<g)?($(b,d.map(function(a){return Array.isArray(a)?a[0]:a}).join(""),c),a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),!1):(m("Submitting form"),!0)},aa=function(a){return Object.keys(a.target).forEach(function(b){"submit"===a.target[b].type&&(Y=function(){W(a.target[b])})}),!!_(a)&&(!X||X.call(b.form,a))},ba=function(){if(b&&b.form)X=b.form.onsubmit,b.form.onsubmit=aa;else throw"Form not found"},ca=function(){return function(){this.init=function(a){D(a).then(function(){try{ba(),m("Initialized"),q("Initialized",!0)}catch(a){throw a}})["catch"](function(a){console.error("[NoHate] Error",a),q("Initialized",!1)})}}}(),da=window.NoHate=new ca;return da});
